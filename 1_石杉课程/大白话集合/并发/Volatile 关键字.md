# Volatile 关键字

## 语义

> 用于修饰变量，可以保证变量的内存可见性，防止指令重排序。

## 工作原理

![image-20210630215506995](https://i.loli.net/2021/06/30/SlJeRThOar7D4Gz.png)![image-20210630215542293](https://i.loli.net/2021/06/30/JLgcVKA23RsdbkG.png)

### 可见性

> 1. 当线程修改了被 volatile 修饰的变量时，立刻强制刷新到主存；
> 2. 若其他线程的工作内存中有包含变量的副本时，强制过期失效变量副本，不允许读和使用；
> 3. 其他线程在运行过程中需要读取变量时，需要从主存中重新读取。

### 有序性

